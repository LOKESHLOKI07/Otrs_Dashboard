<html>
<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
body {
  font-family: "Open Sans", sans-serif;
  background-color: black;
  background-repeat: no-repeat;
  background-size: cover;
  color: #fff;
  min-height:100%
}

{
  font-family: Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width:100%
env
}
td,th {
  border: 1px solid black;
  padding: 4px;
  overflow: hidden;
  text-overflow: ellipsis;
  word-wrap: break-word;
}

tr:nth-child(even){background-color:#012970;}

tr:hover {background-color: #FF6F91;}

th {
  padding-top: 10px;
  padding-bottom: 10px;
  text-align: center;
  background-color: #97978F;
  color: black;
}

table.table_style {

  table-layout: fixed;
  width: 100%;


}


</style>
</head>
<body>
<h2><center>{{ hname| upper }} ENGINEER REPORT</center></h2>
<center><table  width='75%' border-radius='10'  cellspacing='0' cellpadding='0' border='5' class="" id="" >


        <tr>
        <th class="sortable" align='center' valign='middle'>engineer </th>
        <th class="sortable" align='center' valign='middle'>open</th>
        <th class="sortable" align='center' valign='middle'>closed</th>
        <th class="sortable" align='center' valign='middle'>total</th>

        </tr>

    <tr>
        {% for x1 in engineer %}
            {% for x2 in x1 %}
                <td>{{x2}}</td>
            {% endfor %}
    </tr>
        {% endfor %}

</table></center>
<br /><br />
<form method='post' action=''>
    {% csrf_token %}
    <input type="hidden" name="hdate1" value={{ hdate1 }}>
    <input type="hidden" name="hdate2" value={{ hdate2 }}>
    <input type="hidden" name="hname" value={{ hname }}>
    <center><input type="submit" value="Click Download" name="Click Download" onClick=""></center>
</form>

<table  class="table_style" id="table" width='100%' cellspacing='0' cellpadding='0' border='1'>
    <tr>
        <th class="sortable" align='center' valign='middle'>Ticket Id</th>
        <th class="sortable" align='center' valign='middle'>Responsible User</th>
        <th class="sortable" align='center' valign='middle'>Type Name</th>
        <th  class="sortable" align='center' valign='middle'>Subject</th>
        <th  class="sortable" align='center' valign='middle'>Time Spent</th>
        <th class="sortable" align='center' valign='middle'>Customer</th>
        <th class="sortable" align='center' valign='middle'>Create Time</th>
        <th class="sortable" align='center' valign='middle'>Closed Time</th>
        <th class="sortable" align='center' valign='middle'>Age</th>
        <th class="sortable" align='center' valign='middle'>Queue Name</th>
        <th class="sortable" align='center' valign='middle'>SLA</th>
        <th class="sortable" align='center' valign='middle'>Service</th>
        <th class="sortable" align='center' valign='middle'>State Name</th>
        <th class="sortable" align='center' valign='middle'>Category</th>
        <th class="sortable" align='center' valign='middle'>Source</th>

    </tr>
    <tr>
        {% for x14 in engineer1 %}
                <td>{{x14.0}}</td>
                <td>{{x14.1}}</td>
                <td>{{x14.2}}</td>
                <td>{{x14.3}}</td>
                <td>{{x14.4}}</td>
                <td>{{x14.5}}</td>
                <td>{{x14.6}}</td>
                <td>{{x14.7}}</td>
                <td>{{x14.8}}</td>
                <td>{{x14.9}}</td>
                <td>{{x14.10}}</td>
                <td>{{x14.11}}</td>
                <td>{{x14.12}}</td>
                <td>{{x14.13}}</td>
                <td>{{x14.14}}</td>

    </tr>
        {% endfor %}
</table>
<script>
$(document).ready(function() {
  $(".sortable").click(function() {
    var table = $(this).parents("table").eq(0);
    var rows = table.find("tr:gt(0)").toArray().sort(comparer($(this).index()));
    this.asc = !this.asc;
    if (!this.asc) {
      rows = rows.reverse();
    }
    for (var i = 0; i < rows.length; i++) {
      table.append(rows[i]);
    }
  });
});

function comparer(index) {
  return function(a, b) {
    var valA = getCellValue(a, index);
    var valB = getCellValue(b, index);
    return $.isNumeric(valA) && $.isNumeric(valB) ? valA - valB : valA.localeCompare(valB);
  };
}

function getCellValue(row, index) {
  return $(row).children("td").eq(index).html();
}
</script>

</body>
</html>
